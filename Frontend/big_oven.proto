syntax = "proto3";

option csharp_namespace = "Frontend";

package protos;

service BigOven {
  rpc ListCategories (Void) returns (Categories) {}
  rpc GetCategory (CategoryId) returns (Category) {}
  rpc CreateCategory (CategoryName) returns (Category) {}
  rpc UpdateCategory (Category) returns (Category) {}
  rpc DeleteCategory (CategoryId) returns (Category) {}

  rpc ListRecipes (Void) returns (Recipes) {}
  rpc GetRecipe (RecipeId) returns (Recipe) {}
  rpc CreateRecipe (RecipeCreate) returns (Recipe) {}
  rpc UpdateRecipe (Recipe) returns (Recipe) {}
  rpc DeleteRecipe (RecipeId) returns (Recipe) {}
}

message Void {}

message CategoryId {
    string id = 1;
}

message CategoryName {
    string name = 1;
}

message Category {
    string id = 1;
    string name = 2;
}

message Categories {
    repeated Category categories_list = 1;
}

message RecipeId {
    string id = 1;
}

message IngredientLine {
    string ingredient = 1;
}

message InstructionLine {
    string instruction = 1;
}

message RecipeCreate {
    string name = 1;
    repeated IngredientLine ingredients = 2;
    repeated InstructionLine instructions = 3;
    repeated CategoryId categories_ids = 4;
}

message Recipe {
    string id = 1;
    string name = 2;
    repeated IngredientLine ingredients = 3;
    repeated InstructionLine instructions = 4;
    repeated CategoryId categories_ids = 5;
}

message Recipes {
    repeated Recipe recipes_list = 1;
}